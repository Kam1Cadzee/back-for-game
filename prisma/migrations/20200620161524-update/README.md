# Migration `20200620161524-update`

This migration has been generated by Vadim Vereketa at 6/20/2020, 4:15:24 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."MobileApp" ALTER COLUMN "status" SET DEFAULT 'WORK';

ALTER TABLE "public"."Phrase" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."Sentence" ADD COLUMN "createdAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP,
ADD COLUMN "updatedAt" timestamp(3)  NOT NULL DEFAULT CURRENT_TIMESTAMP;

ALTER TABLE "public"."Translate" ALTER COLUMN "type" SET DEFAULT 'OTHER';

ALTER TABLE "public"."User" ALTER COLUMN "role" SET DEFAULT 'STANDARD';

ALTER TABLE "public"."Word" ALTER COLUMN "type" SET DEFAULT 'OTHER';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200613235414-role..20200620161524-update
--- datamodel.dml
+++ datamodel.dml
@@ -8,9 +8,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model User {
   createdAt  DateTime @default(now())
@@ -121,16 +121,20 @@
   phrase             String   @unique
   ru                 String
   entities           Entity[]
   disconnectEntities Entity[] @relation("disconnectPhrases")
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @default(now())
 }
 model Sentence {
   id                 Int      @default(autoincrement()) @id
   sentence           String   @unique
   ru                 String
   entities           Entity[]
   disconnectEntities Entity[] @relation("disconnectSentences")
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @default(now())
 }
 model MobileApp {
   id        Int          @default(autoincrement()) @id
```


