# Migration `20200530185125-add-role`

This migration has been generated by Vadim Vereketa at 5/30/2020, 6:51:25 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "Role" AS ENUM ('ADMIN', 'STANDARD');

ALTER TABLE "public"."Translate" ALTER COLUMN "type" SET DEFAULT 'OTHER';

ALTER TABLE "public"."User" ADD COLUMN "role" "Role" NOT NULL DEFAULT 'STANDARD';

ALTER TABLE "public"."Word" ALTER COLUMN "type" SET DEFAULT 'OTHER';
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200524212543-uniq..20200530185125-add-role
--- datamodel.dml
+++ datamodel.dml
@@ -8,9 +8,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 model User {
   createdAt DateTime @default(now())
@@ -19,8 +19,9 @@
   name      String   @default("")
   lastName  String   @default("")
   password  String   @default("")
   entities  Entity[]
+  role      Role @default(STANDARD)
 }
 model PartOfSpeechDesc {
   id   Int          @default(autoincrement()) @id
@@ -28,9 +29,12 @@
   ru   String
   ua   String
   en   String
 }
-
+enum Role {
+  ADMIN
+  STANDARD
+}
 enum PartOfSpeech {
   ADJ
   ADV
   CONJ
```


